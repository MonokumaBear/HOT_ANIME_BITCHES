<!DOCTYPE html>
<html>
	<head>
		<meta property="og:image" content="https://monokumabear.github.io/discordGold/discordGold.png" />
		<link rel="icon" href="favicon.png" />
		<style>
			body {
				background-color: RGB(49,51,56);
				margin: 0;
			}
			img, video {
				position: fixed;
			}
		</style>
	</head>
	<body>
		<img src="walterWhiteFalling.gif" />
		<video src="mutaharLaughing.mp4" loop="true">
		</video>
	</body>
	<script>
		function randIntInRange(a, b) {
			return Math.round(Math.random() * (b - a) + a);
		}
		function randUnit() {
			if (Math.random() < 0.5) {
				return 1;
			} else {
				return -1;
			}
		}

		let windowSize = {
			width: document.documentElement.scrollWidth,
			height: document.documentElement.scrollHeight
		};
		let video = {
			element: document.getElementsByTagName("video")[0],
			size: {
				x: Math.round(windowSize.width / 4),
				y: null
			},
			position: {
				x: null,
				y: null
			},
			velocity: {
				x: randUnit(),
				y: randUnit()
			}
		};
		let gif = {
			element: document.getElementsByTagName("img")[0],
			size: {
				x: Math.round(windowSize.width / 4),
				y: null
			},
			position: {
				x: null,
				y: null
			},
			velocity: {
				x: randUnit(),
				y: randUnit()
			}
		};
		video.size.y = video.size.x * 16/9;
		video.position.x = randIntInRange(0, windowSize.width - video.size.x);
		video.position.y = randIntInRange(0, windowSize.height - video.size.y);
		gif.size.y = video.size.x * 45/61;
		gif.position.x = randIntInRange(0, windowSize.width - gif.size.x);
		gif.position.y = randIntInRange(0, windowSize.height - gif.size.y);
		video.element.width = video.size.x;
		gif.element.width = gif.size.x;

		function updateElement(e) {
			//Boundary collision check and redirection
			if (e.position.y <= 0) {
				e.velocity.y = 1;
			} else if (e.position.x >= windowSize.width - e.size.x) {
				e.velocity.x = -1;
			} else if (e.position.y >= windowSize.height - e.size.y) {
				e.velocity.y = -1;
			} else if (e.position.x <= 0) {
				e.velocity.x = 1;
			}

			//Movement
			e.position.x += e.velocity.x;
			e.position.y += e.velocity.y;

			//Update position in CSS
			e.element.style.left = String(e.position.x) + "px";
			e.element.style.top = String(e.position.y) + "px";
		}

		let mousemoveEventListener = document.body.addEventListener("mousemove", function() {
			window.setInterval(function() {
				updateElement(video);
				updateElement(gif);
			}, 100);
			document.body.removeEventListener("mousemove", mousemoveEventListener);
		});
		let mousedownEventListener = document.body.addEventListener("mousedown", function() {
			video.element.play();
			document.body.removeEventListener("mousedown", mousedownEventListener);
		});
		let windowResizeEventListener = window.addEventListener("resize", function() {
			windowSize.width = document.documentElement.scrollWidth,
			windowSize.height = document.documentElement.scrollHeight
		});
	</script>
</html>
